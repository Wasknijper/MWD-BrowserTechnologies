<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mwd-browsertechnologies by Wasknijper</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Mwd-browsertechnologies</h1>
        <p></p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/Wasknijper/MWD-BrowserTechnologies" class="button fork"><strong>View On GitHub</strong></a>

        <ul>
          <li><a href="#canvas-link">Canvas</a></li>
          <li><a href="#datalist">Datalist</a></li>
          <li><a href="#gradient">Gradients</a></li>
          <li><a href="#bgs">Meerdere BGs</a></li>
          <li><a href="#localstorage">localStorage</a></li>
          <li><a href="#curFormat">Currency Formatting</a></li>
        </ul>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h2>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Avv 2 Opdracht 1</h2>

<p>Onderzoek en test 2 features van HTML, CSS & JS en bouw een fallback. </p>

      
        <a id="canvas-link" class="anchor" href="#canvas-link" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span>
        </a>
        <h3>Canvas</h3>
      <!-- Embedded caniuse met dank aan Dennis voor de link: http://caniuse.bitsofco.de/. (srcdoc) -->
      <p><code>Canvas</code> is een html element om met javascript in te kunnen tekenen. Verder werkt het hetzelfde als een <code>img</code> element.</p>
      <p>De fallback hiervoor is heel simpel, je kan een <code>img</code> in de <code>canvas</code> zetten. Deze word dan alleen ingeladen als canvas niet wordt ondersteund.</p>
      <p class="ciu_embed" data-feature="canvas" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=canvas">Can I Use canvas?</a> Data on support for the canvas feature across the major browsers from caniuse.com. </p>
      <h4>Code</h4>
      <h5>Html</h5>
      <pre><code>
        &lt;canvas id='canvas'>
          &lt;img src="images/seaking.png" alt="seaking">
        &lt;/canvas>
      </code></pre>
      <h5>Js</h5>
      <pre><code>
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var img = new Image();
        img.onload = function () {
          context.drawImage(img, 0, 0);
        };
        img.src = 'images/mudkip.png';
      </code></pre>

      <h4>Demo</h4>
      <p>Als je canvas ondersteund, zie je een mudkip. Zo niet, dan zie je een seaking</p>
      <canvas id='canvas'>
        <img src="images/seaking.png" alt="seaking">
      </canvas>

      <a id="datalist" class="anchor" href="#datalist" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span>
        </a>
        <h3>Datalist</h3>
      <p>Met het <code>datalist</code> element geef je de gebruiker een lijst van opties bij een <code>input</code> veld. Hiermee laat je wel de optie open voor de gebruiker om een eigen value mee tegeven.</p>
      <p>De fallback zit eigenlijk al in het element zelf, omdat je het koppelt aan een input element. Maar ook kan je een specefieke fallback message of tag meegeven. Deze is alleen te zien in browsers die datalist niet supporten, IE Edge laat dit als optie zien in de datalist. </p>

      <p class="ciu_embed" data-feature="datalist" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=datalist">Can I Use datalist?</a> Data on support for the datalist feature across the major browsers from caniuse.com. </p>

      <h4>Code</h4>
      <pre><code>
        &lt;form>
          &lt;label> Who is the best pokemon?&lt;/label>
          &lt;input type=text id='pokemon' list='best-pokemon' name='best-pokemon' autofocus>
          &lt;datalist id='best-pokemon'> 
            &lt;option value='Mudkip'> 
            &lt;option value='Mudkip with a hat'> 
            &lt;option value='Pirate mudkip'>
            &lt;option value='Shiny mudkip'>
            &lt;p>Your browser doesn't support datalist! Here are some suggestion for the best pokemon: Mudkip, Mudkip with a hat, Pirate mudkip, Shiny mudkip.&lt;/p>
          &lt;/datalist>
        &lt;/form>
      </code></pre>

      <h4>Demo</h4>
      <form>
        <label> Who is the best pokemon?</label>
        <input type=text id='pokemon' list='best-pokemon' name='best-pokemon' autofocus>
        <datalist id='best-pokemon'> 
          <option value='Mudkip'> 
          <option value='Mudkip with a hat'> 
          <option value='Pirate mudkip'>
          <option value='Shiny mudkip'>
          <p>Your browser doesn't support datalist! Here are some suggestion for the best pokemon: Mudkip, Mudkip with a hat, Pirate mudkip, Shiny mudkip.</p>
        </datalist>
      </form>
<a id="gradient" class="anchor" href="#gradient" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span>
        </a>
      <h3>Css gradients</h3>
      <p>Gradients in CSS zijn geen <code>background-color</code>, maar een <code>background-img</code>. Dit is handig voor het maken van fallbacks, omdat je een afbeelding mee kan geven en deze later kan overwriten met de gradient. Ook kan je toch een <code>background-color</code> meegeven voor als de afbeelding ook niet werkt.</p>
      <p class="ciu_embed" data-feature="css-gradients" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=css-gradients">Can I Use css-gradients?</a> Data on support for the css-gradients feature across the major browsers from caniuse.com. </p>

      <h4>Code</h4>
      <pre><code>
        .demo-gradient {
          width: 20em;
          height: 10em;
          background-color:  #00bfff;
          background-image: url(images/gradient.png);
          background-image: linear-gradient(#00bfff, #ff6600);
        }
      </code></pre>

      <h4>Demo</h4>
      <div class="demo-gradient"></div>
<a id="bgs" class="anchor" href="#bgs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
      <h3>Meerdere background-images</h3>
      <p>In CSS3 is het mogelijk om meerdere background-images te gebruiken. Dit wordt genegeerd in browsers die het niet supporten. Daarom is het dus belangrijk om een fallback te hebben geschreven. Je kan eerst een kleur instellen, voor de achtergrond helemaal niet laad en daarna de belangrijkste <code>background-image</code>.</p></p>In de code hieronder zien de browsers die meerdere backgrounds wel supporten een mudkip en een seaking, anders zie je alleen een mudkip.</p>
      <p class="ciu_embed" data-feature="multibackgrounds" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=multibackgrounds">Can I Use multibackgrounds?</a> Data on support for the multibackgrounds feature across the major browsers from caniuse.com. </p>
      <h4>Code</h4>
      <pre><code>
        .demo-bgs {
          width: 20em;
          height: 10em;
          background-color: blue;
          background: url(../images/mudkip.png);
          background: url(../images/mudkip.png) left top no-repeat, url(../images/seaking.png) right bottom no-repeat;
        }
      </code></pre>

      <h4>Demo</h4>
      <div class="demo-bgs"></div>

      <a id="localstorage" class="anchor" href="#localstorage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
      <h3>Local storage</h3>
      <p>Met <code>localStorage</code> kan je bepaalde informatie lokaal opslaan, zodat data niet verloren gaat als de gebruiker de browser sluit. Vroeger moest je dit server-side regelen, maar dankzij <code>localStorage</code> hoeft dit niet meer en hoef je je gebruiker niet te forceren om een account aan te maken.</p>
      <p class="ciu_embed" data-feature="namevalue-storage" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=namevalue-storage">Can I Use namevalue-storage?</a> Data on support for the namevalue-storage feature across the major browsers from caniuse.com. </p>
      <h4>Code</h4>
      <h5>HTML</h5>
      <pre><code>
      &lt;p id="oudNummer">Oud random nummer: &lt;span>&lt;/span>&lt;/p>
      &lt;p id="nieuwNummer">Nieuw random nummer: &lt;span>&lt;/span>&lt;/p>

      &lt;p id="manualInput">Je localStorage werkt niet! Voer hier het oude nummer in:  &lt;input type="text">&lt;/p>
      </code></pre>

      <h5>JS</h5>
      <pre><code>
      var oldNumber;
      var newNumber = Math.floor(Math.random()*101);

      var oldNumberContainer = document.getElementById('oudNummer');
      var newNumberContainer = document.getElementById('nieuwNummer');

      var manualInput = document.getElementById('manualInput');
      manualInput.classList.add('hidden');

      newNumberContainer.getElementsByTagName('span')[0].innerHTML = newNumber;

      if (window.localStorage){
        //woo we have local storage! Lets check if oldNumber is saved in here somewhere
        if(localStorage.getItem('oldNumber')){
          oldNumber = localStorage.getItem('oldNumber');
        }

        oldNumberContainer.getElementsByTagName('span')[0].innerHTML = oldNumber;

        oldNumber = newNumber;
        localStorage.setItem('oldNumber', oldNumber);

      } else {
        oldNumber = 'Niet gevonden!';
        //no localstorage, give user option to input the old number
        manualInput.classList.remove('hidden');
      }
      </code></pre>

      <h4>Demo</h4>
      <p id="oudNummer">Oud random nummer: <span></span></p>
      <p id="nieuwNummer">Nieuw random nummer: <span></span></p>

      <p id="manualInput">Je localStorage werkt niet! Voer hier het oude nummer in:  <input type="text"></p>


      <a id="curFormat" class="anchor" href="#curFormat" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
      <h3>Currency Formatting</h3>
      <p>Er bestaat een functie waarmee je een nummer kan omzetten naar een bepaald format. Voor dit voorbeeld heb ik omzetting naar Euros in Nederlandse stijl gekozen, dit gebeurt die de Intl Api, of the wel de Internationalisation Api. Maar ook kan je nummers om zetten naar decimalen of percentages. Ook kan je er de tijd en datum mee formatten, zo dat je gebruiker de datum kan zien op de manier waar hij/zij het in gewend is.</p>
      <p class="ciu_embed" data-feature="internationalization" data-periods="future_1,current,past_1,past_2,past_3">   <a href="http://caniuse.com/#feat=internationalization">Can I Use internationalization?</a> Data on support for the internationalization feature across the major browsers from caniuse.com. </p>
      <h4>Code</h4>
      <h5>HTML</h5>
      <pre><code>
      &lt;p>Hoe schrijf je twee milijoen dertienhonderd drieënveertig euro en 30 cent in nummers? &lt;span id="euros">&lt;/span>&lt;/p>
      </code></pre>

      <h5>JS</h5>
      <pre><code>
       
      var num = 2001343.30;
      var formatted;
      var euroSpan = document.getElementById('euros');

      var formatToEuro = function (number){
        var numberStr = parseFloat(number).toFixed(2).toString();
        var numFormatDec = numberStr.slice(-2); /*decimal 00*/
        numberStr = numberStr.substring(0, numberStr.length-3); /*cut last 3 strings*/
        var numFormat = new Array;
        while (numberStr.length > 3) {
          numFormat.unshift(numberStr.slice(-3));
          numberStr = numberStr.substring(0, numberStr.length-3);
        }
          numFormat.unshift(numberStr);
          return '\u20AC ' + numFormat.join('.')+','+numFormatDec; /*format 000.000.000,00 */
      }

      if(Intl.NumberFormat){

        var i10nEUR = new Intl.NumberFormat("nl-NL", { style: "currency", currency: "EUR" })
        formatted = i10nEUR.format(num);
      } else {
        formatted = formatToEuro(num);
      }
      
      euroSpan.innerHTML = formatted;

      console.log(formatted); 
      </code></pre>

      <h4>Demo</h4>
      <p>Hoe schrijf je twee milijoen dertienhonderd drieënveertig euro en 30 cent in nummers? <span id="euros"></span></p>
      <script type="text/javascript">
      //CANVAS
      var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var img = new Image();
        img.onload = function () {
          context.drawImage(img, 0, 0);
        };
        img.src = 'images/mudkip.png';

      //LOCAL STORAGE
      //add a value to old nummer to be sure
      var oldNumber;
      var newNumber = Math.floor(Math.random()*101);

      var oldNumberContainer = document.getElementById('oudNummer');
      var newNumberContainer = document.getElementById('nieuwNummer');

      var manualInput = document.getElementById('manualInput');
      manualInput.classList.add('hidden');

      newNumberContainer.getElementsByTagName('span')[0].innerHTML = newNumber;

      if (window.localStorage){
        //woo we have local storage! Lets check if oldNumber is saved in here somewhere
        if(localStorage.getItem('oldNumber')){
          oldNumber = localStorage.getItem('oldNumber');
        }

        oldNumberContainer.getElementsByTagName('span')[0].innerHTML = oldNumber;

        oldNumber = newNumber;
        localStorage.setItem('oldNumber', oldNumber);

      } else {
        oldNumber = 'Niet gevonden!';
        //no localstorage, give user option to input the old number
        manualInput.classList.remove('hidden');
      }

      //currency formatting

      var num = 2001343.30;
      var formatted;
      var euroSpan = document.getElementById('euros');

      //fallback functie komt van: http://www.naprej.com/format_currency_euro_in_javascript_
      var formatToEuro = function (number){
        var numberStr = parseFloat(number).toFixed(2).toString();
        var numFormatDec = numberStr.slice(-2); /*decimal 00*/
        numberStr = numberStr.substring(0, numberStr.length-3); /*cut last 3 strings*/
        var numFormat = new Array;
        while (numberStr.length > 3) {
          numFormat.unshift(numberStr.slice(-3));
          numberStr = numberStr.substring(0, numberStr.length-3);
        }
          numFormat.unshift(numberStr);
          return '\u20AC ' + numFormat.join('.')+','+numFormatDec; /*format 000.000.000,00 */
      }

      if(window.Intl && window.Intl === "object"){

        var i10nEUR = new Intl.NumberFormat("nl-NL", { style: "currency", currency: "EUR" })
        formatted = i10nEUR.format(num);
      } else {
        formatted = formatToEuro(num);
      }
      
      euroSpan.innerHTML = formatted;

      console.log(formatted);
      </script>
      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
    <script src="http://cdn.jsdelivr.net/caniuse-embed/1.0.0/caniuse-embed.min.js"></script>
  </body>
</html>
